<p *ngIf="name">{{ name }}:</p>

<div>
    <p>
        <span class="align">
            <label for="mainUpload">Main: </label>
            <input class="fileupload" id="mainUpload" #mainInput type="file"
            (change)="uploadImage($event, 'main')" accept=".png,.jpg.,.gif">

            <div class="tooltip" tabindex="0">
                <img class="help" src="assets/svgs/help.svg">
                <span class="tooltiptext">{{ mainRequirements }}</span>
            </div>
        </span>
    
        <span *ngIf="hasThumb===true; then thumb, else noThumb"></span>
    </p>
</div>



<ng-template #thumb>

    <div class="align">

        <app-checkbox
        [labelName]="'Autogenerate Thumb: '"
        id="thumbCheck"
        [checked]="autoGenerate"
        [before]="false"
        (click)="switchThumbType()"
        ></app-checkbox>

        <div class="tooltip" tabindex="0">
            <img class="help" src="assets/svgs/help.svg">
            <span class="tooltiptext">Transparency is maintained; however, autogenerated thumbs for animated gifs will only show the first frame!</span>
        </div>
    </div>

    <span *ngIf="autoGenerate===false">
        <!-- Show preview of the main -->
        <app-upload-preview
        [name]="mainImg.Name"
        [imgUrl]="mainImg.ImgUrl"
        [loading]="mainImg.Loading"
        [oldUrl]="oldMain"
        ></app-upload-preview>
    </span>

    <p>
        <span *ngIf="autoGenerate===true && (thumbImg.ImgUrl || oldThumb)">
            Thumbnail:
        </span>
        <span class="align" *ngIf="autoGenerate===false">
            <label for="thumbUpload">Thumbnail: </label>
            <!-- Allow user uploaded Thumb -->
            <input class="fileupload"  #thumbInput type="file" id="thumbUpload"
            (change)="uploadImage($event, 'thumb')" accept=".png,.jpg.,.gif">
            <div class="tooltip">
                <img class="help" src="assets/svgs/help.svg">
                <span class="tooltiptext">{{ thumbRequirements }}</span>
            </div>
        </span><br>

        <!-- Thumb -->
        <app-upload-preview
        [name]="thumbImg.Name"
        [imgUrl]="thumbImg.ImgUrl"
        [loading]="thumbImg.Loading"
        [oldUrl]="oldThumb"
        ></app-upload-preview>
    </p>

</ng-template>





<ng-template #noThumb>
    <!-- Show preview of the main -->
    <app-upload-preview
    [name]="mainImg.Name"
    [imgUrl]="mainImg.ImgUrl"
    [loading]="mainImg.Loading"
    [oldUrl]="oldMain"
    ></app-upload-preview>
</ng-template>