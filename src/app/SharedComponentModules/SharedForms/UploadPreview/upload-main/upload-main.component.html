<p *ngIf="name">{{ name }}:</p>

<div>
    <p>
        <span class="align">
            <label for="mainUpload">Main: </label>
            <input class="fileupload" id="mainUpload" #mainInput type="file"
            (change)="uploadImage($event, 'main')" accept=".png,.jpg.,.gif">

            <app-tool-tip [Info]="mainRequirements"></app-tool-tip>
        </span>
    
        <span *ngIf="hasThumb===true; then thumb, else noThumb"></span>
    </p>
</div>



<ng-template #thumb>
<!-- show thumb generated from main or main and thumb when not autogenerated -->
    <div class="align">

        <app-checkbox
        [labelName]="'Autogenerate Thumb: '"
        id="thumbCheck"
        [checked]="autoGenerate"
        [before]="false"
        (click)="switchThumbType(); false" 
        ></app-checkbox>
         <!-- The false in the click event prevents double firing caused by the label
        bubbling back to teh real check box!  Do NOT remove it. -->

        <app-tool-tip [Info]="autoGenHelp"></app-tool-tip>
    </div>

    <span *ngIf="autoGenerate===false">
        <!-- Show preview of the main -->
        <app-upload-preview
        [name]="mainImg.Name"
        [imgUrl]="mainImg.ImgUrl"
        [loading]="mainImg.Loading"
        [oldUrl]="oldMain"
        ></app-upload-preview>
    </span>

    <p>
        <span *ngIf="autoGenerate===true && (thumbImg.ImgUrl || oldThumb)">
            Thumbnail:
        </span>
        <span class="align" *ngIf="autoGenerate===false">
            <label for="thumbUpload">Thumbnail: </label>
            <!-- Allow user uploaded Thumb -->
            <input class="fileupload"  #thumbInput type="file" id="thumbUpload"
            (change)="uploadImage($event, 'thumb')" accept=".png,.jpg.,.gif">

            <app-tool-tip [Info]="thumbRequirements"></app-tool-tip>
        </span><br>

        <!-- Thumb -->
        <app-upload-preview
        [name]="thumbImg.Name"
        [imgUrl]="thumbImg.ImgUrl"
        [loading]="thumbImg.Loading"
        [oldUrl]="oldThumb"
        ></app-upload-preview>
    </p>

</ng-template>





<ng-template #noThumb>
    <!-- Show preview of the main -->
    <app-upload-preview
    [name]="mainImg.Name"
    [imgUrl]="mainImg.ImgUrl"
    [loading]="mainImg.Loading"
    [oldUrl]="oldMain"
    ></app-upload-preview>
</ng-template>